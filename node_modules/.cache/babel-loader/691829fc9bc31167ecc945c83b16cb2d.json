{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chris\\\\fighting-game\\\\src\\\\App.js\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  const canvas = document.querySelector('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1024;\n  canvas.height = 576;\n  context.fillRect(0, 0, 1024, 576);\n  const gravity = 0.7;\n\n  class Sprite {\n    constructor(_ref) {\n      let {\n        position,\n        imageSrc\n      } = _ref;\n      this.position = position;\n      this.width = 50;\n      this.height = 150;\n      this.image = new Image();\n      this.image.src = imageSrc;\n    }\n\n    draw() {\n      this.image.onload = () => {\n        context.drawImage(this.image, this.position.x, this.position.y);\n      };\n    }\n\n    update() {\n      this.draw();\n    }\n\n  }\n\n  class Fighter {\n    constructor(_ref2) {\n      let {\n        position,\n        velocity,\n        color = 'red',\n        offset\n      } = _ref2;\n      this.position = position;\n      this.velocity = velocity;\n      this.width = 50;\n      this.height = 150;\n      this.lastKey = \"\";\n      this.attackBox = {\n        position: {\n          x: this.position.x,\n          y: this.position.y\n        },\n        offset: offset,\n        width: 100,\n        height: 50\n      };\n      this.color = color;\n      this.isAttacking = '';\n      this.health = 100;\n    }\n\n    draw() {\n      context.fillStyle = this.color;\n      context.fillRect(this.position.x, this.position.y, this.width, this.height); //attack box\n\n      if (this.isAttacking) {\n        context.fillStyle = 'purple';\n        context.fillRect(this.attackBox.position.x, this.attackBox.position.y, this.attackBox.width, this.attackBox.height);\n      }\n    }\n\n    update() {\n      this.draw();\n      this.attackBox.position.x = this.position.x + this.attackBox.offset.x;\n      this.attackBox.position.y = this.position.y;\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n\n      if (this.position.y + this.height + this.velocity.y >= canvas.height) {\n        this.velocity.y = 0;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n\n    attack() {\n      this.isAttacking = true;\n      setTimeout(() => {\n        this.isAttacking = false;\n      }, 100);\n    }\n\n  }\n\n  const background = new Sprite({\n    position: {\n      x: 0,\n      y: 0\n    },\n    imageSrc: './Assets/background.png'\n  });\n  const player = new Fighter({\n    position: {\n      x: 0,\n      y: 0\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    offset: {\n      x: 0,\n      y: 0\n    }\n  });\n  const enemy = new Fighter({\n    position: {\n      x: 900,\n      y: 100\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    offset: {\n      x: -50,\n      y: 0\n    },\n    color: 'blue'\n  });\n  const keys = {\n    a: {\n      pressed: false\n    },\n    d: {\n      pressed: false\n    },\n    ArrowLeft: {\n      pressed: false\n    },\n    ArrowRight: {\n      pressed: false\n    }\n  };\n\n  function hitBox(_ref3) {\n    let {\n      rectangle1,\n      rectangle2\n    } = _ref3;\n    return rectangle1.attackBox.position.x + rectangle1.attackBox.width >= rectangle2.position.x && rectangle1.attackBox.position.x <= rectangle2.position.x + rectangle2.width && rectangle1.attackBox.position.y + rectangle1.attackBox.height >= rectangle2.position.y && rectangle1.attackBox.position.y <= rectangle2.position.y + rectangle2.height;\n  }\n\n  function animate() {\n    window.requestAnimationFrame(animate);\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    player.update();\n    enemy.update();\n    background.update();\n    player.velocity.x = 0;\n    enemy.velocity.x = 0;\n\n    if (keys.a.pressed && player.lastKey === 'a') {\n      player.velocity.x = -1;\n    } else if (keys.d.pressed && player.lastKey === 'd') {\n      player.velocity.x = 1;\n    }\n\n    if (keys.ArrowLeft.pressed && enemy.lastKey === 'ArrowLeft') {\n      enemy.velocity.x = -1;\n    } else if (keys.ArrowRight.pressed && enemy.lastKey === 'ArrowRight') {\n      enemy.velocity.x = 1;\n    }\n\n    if (hitBox({\n      rectangle1: player,\n      rectangle2: enemy\n    }) && player.isAttacking) {\n      player.isAttacking = false;\n      enemy.health -= 20;\n      document.querySelector('#enemyHealth').style.width = enemy.health + '%';\n    }\n\n    if (hitBox({\n      rectangle1: enemy,\n      rectangle2: player\n    }) && enemy.isAttacking) {\n      enemy.isAttacking = false;\n      player.health -= 20;\n      document.querySelector('#playerHealth').style.width = player.health + '%';\n    }\n\n    if (enemy.health <= 0 || player.health <= 0) {\n      determineWinner({\n        player,\n        enemy,\n        timerId\n      });\n    }\n  }\n\n  function determineWinner(_ref4) {\n    let {\n      player,\n      enemy,\n      timerId\n    } = _ref4;\n    clearTimeout(timerId);\n    document.querySelector('#draw').style.display = \"flex\";\n\n    if (player.health === enemy.health) {\n      document.querySelector('#draw').innerHTML = \"Draw!\";\n    } else if (player.health > enemy.health) {\n      document.querySelector('#draw').innerHTML = \"Player 1 Wins!\";\n    } else {\n      document.querySelector('#draw').innerHTML = \"Player 2 Wins!\";\n    }\n  }\n\n  let timer = 60;\n  let timerId;\n\n  function decreaseTimer() {\n    if (timer > 0) {\n      timerId = setTimeout(decreaseTimer, 1000);\n      timer--;\n      document.querySelector('#timer').innerHTML = timer;\n    }\n\n    if (timer === 0) {\n      determineWinner({\n        player,\n        enemy,\n        timerId\n      });\n    }\n  }\n\n  decreaseTimer();\n  animate();\n  window.addEventListener('keyup', event => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = 0;\n        break;\n\n      case 'd':\n        keys.d.pressed = false;\n        break;\n\n      case 'a':\n        keys.a.pressed = false;\n        break;\n      //Enemy Keys\n\n      case 'ArrowUp':\n        enemy.velocity.y = 0;\n        break;\n\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = false;\n        break;\n\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = false;\n        break;\n\n      default:\n        break;\n    }\n  });\n  window.addEventListener('keydown', event => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = -20;\n        break;\n\n      case 'd':\n        keys.d.pressed = true;\n        player.lastKey = 'd';\n        break;\n\n      case 'a':\n        keys.a.pressed = true;\n        player.lastKey = 'a';\n        break;\n\n      case ' ':\n        player.attack();\n        break;\n      //Enemy Keys\n\n      case 'ArrowUp':\n        enemy.velocity.y = -20;\n        break;\n\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = true;\n        enemy.lastKey = 'ArrowRight';\n        break;\n\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = true;\n        enemy.lastKey = 'ArrowLeft';\n        break;\n\n      case 'l':\n        enemy.attack();\n        break;\n\n      default:\n        break;\n    }\n  }); //////////////////////////////////////////////////////////////\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          display: \"inline-block\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            display: \"flex\",\n            width: \"100%\",\n            alignItems: \"center\",\n            padding: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"relative\",\n              height: \"30px\",\n              width: \"100%\",\n              display: \"flex\",\n              justifyContent: \"flex-end\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: \"yellow\",\n                height: \"30px\",\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"playerHealth\",\n              style: {\n                position: \"absolute\",\n                background: \"blue\",\n                top: \"0\",\n                right: \"0\",\n                bottom: \"0\",\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"timer\",\n            style: {\n              backgroundColor: \"red\",\n              height: \"100px\",\n              width: \"100px\",\n              flexShrink: \"0\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"relative\",\n              height: \"30px\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: \"yellow\",\n                height: \"30px\",\n                width: \"100%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"enemyHealth\",\n              style: {\n                position: \"absolute\",\n                background: \"green\",\n                top: '0',\n                right: \"0\",\n                bottom: \"0\",\n                left: '0'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"draw\",\n          style: {\n            position: \"absolute\",\n            color: \"white\",\n            display: \"none\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            top: '0',\n            right: '0',\n            bottom: \"0\",\n            left: '0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/chris/fighting-game/src/App.js"],"names":["App","canvas","document","querySelector","context","getContext","width","height","fillRect","gravity","Sprite","constructor","position","imageSrc","image","Image","src","draw","onload","drawImage","x","y","update","Fighter","velocity","color","offset","lastKey","attackBox","isAttacking","health","fillStyle","attack","setTimeout","background","player","enemy","keys","a","pressed","d","ArrowLeft","ArrowRight","hitBox","rectangle1","rectangle2","animate","window","requestAnimationFrame","style","determineWinner","timerId","clearTimeout","display","innerHTML","timer","decreaseTimer","addEventListener","event","key","alignItems","padding","justifyContent","backgroundColor","top","right","bottom","flexShrink","left"],"mappings":"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","sourcesContent":["\nimport \"./App.css\";\n\nfunction App() {\n\n  const canvas = document.querySelector('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1024;\n  canvas.height = 576;\n\n  context.fillRect(0, 0, 1024, 576);\n\n  const gravity = 0.7;\n\n  class Sprite {\n    constructor({ position, imageSrc }) {\n      this.position = position;\n      this.width = 50;\n      this.height = 150;\n      this.image = new Image();\n      this.image.src = imageSrc;\n    }\n\n    draw() {\n      this.image.onload = () => {\n        context.drawImage(this.image, this.position.x, this.position.y);\n      }\n    }\n\n    update() {\n      this.draw();\n    }\n  }\n\n  class Fighter {\n    constructor({ position, velocity, color = 'red', offset }) {\n      this.position = position;\n      this.velocity = velocity;\n      this.width = 50;\n      this.height = 150;\n      this.lastKey = \"\";\n      this.attackBox = {\n        position: {\n          x: this.position.x,\n          y: this.position.y\n        },\n        offset: offset,\n        width: 100,\n        height: 50,\n      }\n      this.color = color;\n      this.isAttacking = '';\n      this.health = 100;\n    }\n\n    draw() {\n      context.fillStyle = this.color;\n      context.fillRect(this.position.x, this.position.y, this.width, this.height);\n\n      //attack box\n      if (this.isAttacking) {\n        context.fillStyle = 'purple';\n        context.fillRect(this.attackBox.position.x, this.attackBox.position.y, this.attackBox.width, this.attackBox.height);\n      }\n    }\n\n    update() {\n      this.draw();\n      this.attackBox.position.x = this.position.x + this.attackBox.offset.x;\n      this.attackBox.position.y = this.position.y;\n\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n\n      if (this.position.y + this.height + this.velocity.y >= canvas.height) {\n        this.velocity.y = 0;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n\n    attack() {\n      this.isAttacking = true;\n      setTimeout(() => {\n        this.isAttacking = false;\n      }, 100)\n    }\n  }\n\n\n  const background = new Sprite({\n    position: {\n      x: 0,\n      y: 0\n    },\n    imageSrc: './Assets/background.png'\n  });\n\n  const player = new Fighter({\n    position: {\n      x: 0,\n      y: 0\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    offset: {\n      x: 0,\n      y: 0\n    }\n  });\n\n\n  const enemy = new Fighter({\n    position: {\n      x: 900,\n      y: 100\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    offset: {\n      x: -50,\n      y: 0\n    },\n    color: 'blue'\n  });\n\n  const keys = {\n    a: {\n      pressed: false\n    },\n    d: {\n      pressed: false\n    },\n    ArrowLeft: {\n      pressed: false\n    },\n    ArrowRight: {\n      pressed: false\n    }\n  }\n\n  function hitBox({ rectangle1, rectangle2 }) {\n    return (\n      rectangle1.attackBox.position.x + rectangle1.attackBox.width >= rectangle2.position.x && rectangle1.attackBox.position.x <= rectangle2.position.x + rectangle2.width && rectangle1.attackBox.position.y + rectangle1.attackBox.height >= rectangle2.position.y && rectangle1.attackBox.position.y <= rectangle2.position.y + rectangle2.height\n    )\n  }\n\n\n\n  function animate() {\n    window.requestAnimationFrame(animate);\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    \n    player.update();\n    enemy.update();\n    background.update();\n    player.velocity.x = 0;\n    enemy.velocity.x = 0;\n\n    if (keys.a.pressed && player.lastKey === 'a') {\n      player.velocity.x = -1;\n    } else if (keys.d.pressed && player.lastKey === 'd') {\n      player.velocity.x = 1;\n    }\n\n    if (keys.ArrowLeft.pressed && enemy.lastKey === 'ArrowLeft') {\n      enemy.velocity.x = -1;\n    } else if (keys.ArrowRight.pressed && enemy.lastKey === 'ArrowRight') {\n      enemy.velocity.x = 1;\n    }\n\n    if (hitBox({ rectangle1: player, rectangle2: enemy }) && player.isAttacking) {\n      player.isAttacking = false;\n      enemy.health -= 20;\n      document.querySelector('#enemyHealth').style.width = enemy.health + '%';\n    }\n\n    if (hitBox({ rectangle1: enemy, rectangle2: player }) && enemy.isAttacking) {\n      enemy.isAttacking = false;\n      player.health -= 20;\n      document.querySelector('#playerHealth').style.width = player.health + '%';\n    }\n\n    if (enemy.health <= 0 || player.health <= 0) {\n      determineWinner({ player, enemy, timerId });\n    }\n  }\n\n  function determineWinner({ player, enemy, timerId }) {\n    clearTimeout(timerId);\n    document.querySelector('#draw').style.display = \"flex\";\n    if (player.health === enemy.health) {\n      document.querySelector('#draw').innerHTML = \"Draw!\";\n\n    } else if (player.health > enemy.health) {\n      document.querySelector('#draw').innerHTML = \"Player 1 Wins!\";\n\n    } else {\n      document.querySelector('#draw').innerHTML = \"Player 2 Wins!\";\n\n    }\n  }\n\n  let timer = 60;\n  let timerId;\n  function decreaseTimer() {\n\n    if (timer > 0) {\n      timerId = setTimeout(decreaseTimer, 1000);\n      timer--;\n      document.querySelector('#timer').innerHTML = timer;\n    }\n\n    if (timer === 0) {\n      determineWinner({ player, enemy, timerId });\n    }\n  }\n\n  decreaseTimer();\n  animate();\n\n  window.addEventListener('keyup', (event) => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = 0;\n        break;\n      case 'd':\n        keys.d.pressed = false;\n        break;\n      case 'a':\n        keys.a.pressed = false;\n        break;\n\n      //Enemy Keys\n      case 'ArrowUp':\n        enemy.velocity.y = 0\n        break;\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = false;\n        break;\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = false;\n        break;\n      default:\n        break;\n    }\n  })\n\n  window.addEventListener('keydown', (event) => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = -20\n        break;\n      case 'd':\n        keys.d.pressed = true;\n        player.lastKey = 'd';\n        break;\n      case 'a':\n        keys.a.pressed = true;\n        player.lastKey = 'a';\n        break;\n      case ' ':\n        player.attack();\n        break;\n\n      //Enemy Keys\n      case 'ArrowUp':\n        enemy.velocity.y = -20\n        break;\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = true;\n        enemy.lastKey = 'ArrowRight';\n        break;\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = true;\n        enemy.lastKey = 'ArrowLeft';\n        break;\n      case 'l':\n        enemy.attack();\n        break;\n      default:\n        break;\n    }\n  });\n\n  //////////////////////////////////////////////////////////////\n\n  return (\n    <>\n      <body>\n        <div style={{ position: \"relative\", display: \"inline-block\" }}>\n          <div style={{ position: \"absolute\", display: \"flex\", width: \"100%\", alignItems: \"center\", padding: \"20px\" }}>\n            {/* player health */}\n            <div style={{ position: \"relative\", height: \"30px\", width: \"100%\", display: \"flex\", justifyContent: \"flex-end\" }}>\n              <div style={{ backgroundColor: \"yellow\", height: \"30px\", width: \"100%\" }}></div>\n              <div id=\"playerHealth\" style={{ position: \"absolute\", background: \"blue\", top: \"0\", right: \"0\", bottom: \"0\", width: \"100%\" }}></div>\n            </div>\n            {/* timer */}\n            <div id=\"timer\" style={{ backgroundColor: \"red\", height: \"100px\", width: \"100px\", flexShrink: \"0\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>10</div>\n            {/* enemy health */}\n            <div style={{ position: \"relative\", height: \"30px\", width: \"100%\" }}>\n              <div style={{ backgroundColor: \"yellow\", height: \"30px\", width: \"100%\" }}></div>\n              <div id=\"enemyHealth\" style={{ position: \"absolute\", background: \"green\", top: '0', right: \"0\", bottom: \"0\", left: '0' }}></div>\n            </div>\n            <div></div>\n          </div>\n          <div id=\"draw\" style={{ position: \"absolute\", color: \"white\", display: \"none\", justifyContent: \"center\", alignItems: \"center\", top: '0', right: '0', bottom: \"0\", left: '0' }}></div>\n          <canvas></canvas>\n        </div>\n      </body>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}