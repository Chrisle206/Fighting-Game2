{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chris\\\\fighting-game\\\\src\\\\App.js\";\nimport { buildQueries } from \"@testing-library/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  const canvas = document.querySelector('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1024;\n  canvas.height = 576;\n  context.fillRect(0, 0, 1024, 576);\n  const gravity = 0.7;\n\n  class Sprite {\n    constructor(_ref) {\n      let {\n        position,\n        velocity,\n        color = 'red'\n      } = _ref;\n      this.position = position;\n      this.velocity = velocity;\n      this.height = 150;\n      this.lastKey = \"\";\n      this.attackBox = {\n        position: this.position,\n        width: 100,\n        height: 50\n      };\n      this.color = color;\n    }\n\n    draw() {\n      context.fillStyle = 'red';\n      context.fillRect(this.position.x, this.position.y, 50, this.height); //attack box\n\n      context.fillStyle = 'purple';\n      context.fillRect(this.attackBox.position.x, this.attackBox.y, this.attackBox.width, this.attackBox.height);\n    }\n\n    update() {\n      this.draw();\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n\n      if (this.position.y + this.height + this.velocity.y >= canvas.height) {\n        this.velocity.y = 0;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n\n  }\n\n  const player = new Sprite({\n    position: {\n      x: 0,\n      y: 0\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    }\n  });\n  const enemy = new Sprite({\n    position: {\n      x: 900,\n      y: 100\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    color: 'blue'\n  });\n  const keys = {\n    a: {\n      pressed: false\n    },\n    d: {\n      pressed: false\n    },\n    ArrowLeft: {\n      pressed: false\n    },\n    ArrowRight: {\n      pressed: false\n    }\n  };\n\n  function animate() {\n    window.requestAnimationFrame(animate);\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    player.update();\n    enemy.update();\n    player.velocity.x = 0;\n    enemy.velocity.x = 0;\n\n    if (keys.a.pressed && player.lastKey === 'a') {\n      player.velocity.x = -1;\n    } else if (keys.d.pressed && player.lastKey === 'd') {\n      player.velocity.x = 1;\n    }\n\n    if (keys.ArrowLeft.pressed && enemy.lastKey === 'ArrowLeft') {\n      enemy.velocity.x = -1;\n    } else if (keys.ArrowRight.pressed && enemy.lastKey === 'ArrowRight') {\n      enemy.velocity.x = 1;\n    }\n  }\n\n  animate();\n  window.addEventListener('keyup', event => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = 0;\n        break;\n\n      case 'd':\n        keys.d.pressed = false;\n        break;\n\n      case 'a':\n        keys.a.pressed = false;\n        break;\n      //Enemy Keys\n\n      case 'ArrowUp':\n        enemy.velocity.y = 0;\n        break;\n\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = false;\n        break;\n\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = false;\n        break;\n\n      default:\n        break;\n    }\n  });\n  window.addEventListener('keydown', event => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = -20;\n        break;\n\n      case 'd':\n        keys.d.pressed = true;\n        player.lastKey = 'd';\n        break;\n\n      case 'a':\n        keys.a.pressed = true;\n        player.lastKey = 'a';\n        break;\n      //Enemy Keys\n\n      case 'ArrowUp':\n        enemy.velocity.y = -20;\n        break;\n\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = true;\n        enemy.lastKey = 'ArrowRight';\n        break;\n\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = true;\n        enemy.lastKey = 'ArrowLeft';\n        break;\n\n      default:\n        break;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)\n  }, void 0, false) // <>\n  //   <Router>\n  //     <Routes>\n  //       <Route path=\"/\" element={<Battle/>} />\n  //     </Routes>\n  //   </Router>\n  // </>\n  ;\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/chris/fighting-game/src/App.js"],"names":["buildQueries","App","canvas","document","querySelector","context","getContext","width","height","fillRect","gravity","Sprite","constructor","position","velocity","color","lastKey","attackBox","draw","fillStyle","x","y","update","player","enemy","keys","a","pressed","d","ArrowLeft","ArrowRight","animate","window","requestAnimationFrame","addEventListener","event","key"],"mappings":"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","sourcesContent":["import { buildQueries } from \"@testing-library/react\";\n\nfunction App() {\n  const canvas = document.querySelector('canvas');\n  const context = canvas.getContext('2d');\n  canvas.width = 1024;\n  canvas.height = 576;\n\n  context.fillRect(0, 0, 1024, 576);\n\n  const gravity = 0.7;\n\n  class Sprite {\n    constructor({ position, velocity, color ='red' }) {\n      this.position = position;\n      this.velocity = velocity;\n      this.height = 150;\n      this.lastKey = \"\";\n      this.attackBox = {\n        position: this.position,\n        width: 100,\n        height: 50,\n      }\n      this.color = color;\n    }\n\n    draw() {\n      context.fillStyle = 'red';\n      context.fillRect(this.position.x, this.position.y, 50, this.height);\n\n      //attack box\n      context.fillStyle = 'purple';\n      context.fillRect(this.attackBox.position.x, this.attackBox.y, this.attackBox.width, this.attackBox.height);\n    }\n\n    update() {\n      this.draw();\n      this.position.x += this.velocity.x;\n      this.position.y += this.velocity.y;\n\n      if (this.position.y + this.height + this.velocity.y >= canvas.height) {\n        this.velocity.y = 0;\n      } else {\n        this.velocity.y += gravity;\n      }\n    }\n  }\n\n  const player = new Sprite({\n    position: {\n      x: 0,\n      y: 0\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    }\n  });\n\n\n  const enemy = new Sprite({\n    position: {\n      x: 900,\n      y: 100\n    },\n    velocity: {\n      x: 0,\n      y: 0\n    },\n    color: 'blue'\n  });\n\n  const keys = {\n    a: {\n      pressed: false\n    },\n    d: {\n      pressed: false\n    },\n    ArrowLeft: {\n      pressed: false\n    },\n    ArrowRight: {\n      pressed: false\n    }\n  }\n\n\n  function animate() {\n    window.requestAnimationFrame(animate);\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    player.update();\n    enemy.update();\n\n    player.velocity.x = 0;\n    enemy.velocity.x = 0;\n\n    if (keys.a.pressed && player.lastKey === 'a') {\n      player.velocity.x = -1;\n    } else if (keys.d.pressed && player.lastKey === 'd') {\n      player.velocity.x = 1;\n    }\n    \n    if (keys.ArrowLeft.pressed && enemy.lastKey === 'ArrowLeft') {\n      enemy.velocity.x = -1;\n    } else if (keys.ArrowRight.pressed && enemy.lastKey === 'ArrowRight') {\n      enemy.velocity.x = 1;\n    }\n  }\n\n  animate();\n\n  window.addEventListener('keyup', (event) => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = 0;\n        break;\n      case 'd':\n        keys.d.pressed = false;\n        break;\n      case 'a':\n        keys.a.pressed = false;\n        break;\n\n      //Enemy Keys\n      case 'ArrowUp':\n        enemy.velocity.y = 0\n        break;\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = false;\n        break;\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = false;\n        break;\n      default:\n        break;\n    }\n  })\n\n  window.addEventListener('keydown', (event) => {\n    switch (event.key) {\n      //Player Keys\n      case 'w':\n        player.velocity.y = -20\n        break;\n      case 'd':\n        keys.d.pressed = true;\n        player.lastKey = 'd';\n        break;\n      case 'a':\n        keys.a.pressed = true;\n        player.lastKey = 'a';\n        break;\n\n      //Enemy Keys\n      case 'ArrowUp':\n        enemy.velocity.y = -20\n        break;\n      case 'ArrowRight':\n        keys.ArrowRight.pressed = true;\n        enemy.lastKey = 'ArrowRight';\n        break;\n      case 'ArrowLeft':\n        keys.ArrowLeft.pressed = true;\n        enemy.lastKey = 'ArrowLeft';\n        break;\n      default:\n        break;\n    }\n  })\n\n\n\n  return (\n    <>\n      <canvas></canvas>\n    </>\n\n    // <>\n    //   <Router>\n    //     <Routes>\n    //       <Route path=\"/\" element={<Battle/>} />\n    //     </Routes>\n    //   </Router>\n    // </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}